plugins {
    id 'java'
}

group 'eu.vironlab'
version '1.0.0-SNAPSHOT'

repositories {
    mavenCentral()
    maven {
        url = "https://repo.cloudnetservice.eu/repository/snapshots/"
    }
}

def cnVersion = "3.4.0-SNAPSHOT"

dependencies {
    implementation 'org.jetbrains:annotations:19.0.0'
    compileOnly 'de.dytanic.cloudnet:cloudnet:' + cnVersion
    implementation("org.projectlombok:lombok:1.18.6")
    annotationProcessor("org.projectlombok:lombok:1.18.6")
    compile 'org.mongodb:mongodb-driver-sync:4.1.1'
}

jar {
    manifest {
        attributes 'Implementation-Title': project.name
        attributes 'Implementation-Version': version
        attributes 'Specification-Version': version
        attributes 'Implementation-Vendor': 'VironLab.eu'
        attributes 'Built-By': System.getProperty("user.name")
        attributes 'Build-Jdk': System.getProperty("java.version")
        attributes 'Created-By': 'Gradle ' + gradle.gradleVersion
    }
    archiveFileName.set("CloudNet-MongoDB.jar")
    from {
        configurations.compile.collect { it.isDirectory() ? it : zipTree(it) }
    }
}